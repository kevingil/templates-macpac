<TMPL_INCLUDE NAME="header.tmpl">
  <p class="breadcrumb-header">
    <a href="productCats.html">Back to Product Categories</a>
    <TMPL_IF NAME="breadcrumbtext1"> / <a href="category.html?<TMPL_VAR NAME=" breadcrumblink1">"><TMPL_VAR
          NAME="breadcrumbtext1" escape=html></a></TMPL_IF>
    <TMPL_IF NAME="breadcrumbtext2"> / <a href="category.html?<TMPL_VAR NAME=" breadcrumblink2">"><TMPL_VAR
          NAME="breadcrumbtext2" escape=html></a></TMPL_IF>
  </p>

  <div class="product-results-wrap">
    <div class="product-filters-wrap">

      <!-- filter bar for full size -->

      <details id="pagecontrols" role="button" class="contrast outline" open>
        <summary><b>Page Controls</b></summary>
        <TMPL_INCLUDE NAME="pageControlsSelects.tmpl">
      </details>


      <details id="filtercontainer" role="button" class="contrast outline" open>
        <summary><b>Filters</b></summary>
        <TMPL_INCLUDE NAME="filters.tmpl">
      </details>
    </div>

    <div class="product-filters-modal-wrap">
      <!-- modal for mobile site -->

      <script>
        // modal controls
        // Config
        const isOpenClass = "modal-is-open";
        const openingClass = "modal-is-opening";
        const closingClass = "modal-is-closing";
        const animationDuration = 400; // ms
        let visibleModal = null;
        // Open modal
        const openModal = (modal) => {
          if (isScrollbarVisible()) {
            document.documentElement.style.setProperty("--scrollbar-width", `${getScrollbarWidth()}px`);
          }
          document.documentElement.classList.add(isOpenClass, openingClass);
          setTimeout(() => {
            visibleModal = modal;
            document.documentElement.classList.remove(openingClass);
          }, animationDuration);
          modal.setAttribute("open", true);
        };

        // Close modal
        const closeModal = (modal) => {
          visibleModal = null;
          document.documentElement.classList.add(closingClass);
          setTimeout(() => {
            document.documentElement.classList.remove(closingClass, isOpenClass);
            document.documentElement.style.removeProperty("--scrollbar-width");
            modal.removeAttribute("open");
          }, animationDuration);
        };


      </script>

      <button class="secondary" data-target="sort-dialog" onClick="openModal('sort-dialog')">
        Sort
      </button>

      <dialog id="sort-dialog" >
        <article>
          <header>
            <p>
              <strong>Sort</strong>
            </p>
          </header>

          <TMPL_INCLUDE NAME="pageControlsSelects.tmpl">

            <footer>
              <button className="secondary" data-target="sort-dialog" onClick="openModal('sort-dialog')">
                Cancel
              </button>
              <button>Confirm</button>
            </footer>
        </article>
      </dialog>

      <button class="secondary" data-target="filter-dialog" onClick="openModal('filter-dialog')">
        Filter
      </button>

      <dialog id="filter-dialog">
        <article>
          <header>
            <p>
              <strong>Filter</strong>
            </p>
          </header>
          <TMPL_INCLUDE NAME="filters.tmpl">
            <footer>
              <button className="secondary" data-target="filter-dialog" onClick="closeModal('filter-dialog')">
                Cancel
              </button>
              <button>Confirm</button>
            </footer>
        </article>
      </dialog>
    </div>

    <div class="products-wrap">
      <TMPL_INCLUDE NAME="productChunk.tmpl">
    </div>

  </div>

  <p class="divider">&nbsp;</p>

  <div class="center" style="clear: both">
    <TMPL_INCLUDE NAME="salesNavs.tmpl">
  </div>

  <TMPL_INCLUDE NAME="jquery_favorite.tmpl">
    <TMPL_INCLUDE NAME="jquery_handleCart.tmpl">
      <TMPL_INCLUDE NAME="jquery_regHandleCart.tmpl">
        <TMPL_INCLUDE NAME="footer.tmpl">